<div class="container-fluid Pages_background">
    <div>
        <div class="row">
            <div class="col-lg-4">
                <h4 class="Pages_header">{{pageMenuTitle}}</h4>
            </div>
            <div class="col-lg-4">
            </div>
            <div class="col-lg-4">
                <div class="mainrow">
                    <div class="col-lg-12 BreadChrumbProperties">
                        <span> {{resourcelocation_breadchrumb}}</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12 dashbutton">
                <button routerLink="/updateresourcelocation"
                    type="button">{{resourcelocation_button_AddnewResource}}</button>
            </div>
            <div class="col-lg-12 dashbutton">
                <button type="button">{{resourcelocation_button_ExportToexcel}}</button>
            </div>
        </div>
    </div>

    <div class="container-fluid shadow p-3 mb-5 bg-white rounded maincard">
        <div class="row  p-2">
            <div class="col-lg-12 pannel">
                <h6 class="paneltitle">{{resourcelocation_PageTitle}}</h6>
            </div>
        </div>
        <div class="row p-4">
            <div class="col-lg-3">
                <input type="text" placeholder="search.." [(ngModel)]="searchtext" class="form-control">
            </div>
            <div class="col-lg-3 ">
                <select class="dropdown form-control" id="ddl_BuildingName"  (change)="FilterBuilding($event)" required>
                    <option value='' selected="selected">Select Building</option>
                    <option *ngFor="let Build of Buildinglist" value="{{Build.id}}" >{{Build.name}}</option>
                   
                </select>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12  table-responsive">
                <table class="table table-bordered table-hover table-condensed">
                    <tr class="tableheader tableheaderfont">
                        <td>{{resourcelocation_Name}}</td>
                        <td>{{resourcelocation_Building}}</td>
                        <td>{{resourcelocation_Parent_Resource}}</td>
                        <td>{{resourcelocation_Location}}</td>
                        <td>{{resourcelocation_Actions}}</td>
                    </tr>
                    <tr *ngFor="let Resource of ResourceList | filter:searchtext">
                        <td>{{Resource.resourceName}}</td>
                        <td>{{Resource.building}}</td>
                        <td>{{Resource.parentResource}}</td>
                        <td>{{Resource.location}}</td>
                        <td class="TableActions">
                            <i class="fa fa-edit" title="Edit" [routerLink]="['/editresourcelocation',Resource.id]"></i>
                            <i class="fa fa-paperclip" title="Images" data-toggle="modal" data-target="#myModal" (click)="getimage(Resource.id)"></i>
                            <i class="far fa-trash-alt" title="Delete" (click)="DeleteResourceLocation(Resource.id)" aria-hidden="true"></i>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="myModal">
    <div class="modal-dialog modal-lg" style="margin-top: 10%">
      <div class="modal-content">
        <div class="row">
          <h4 class="modal-title" style="margin-left: 30px;">Attachments</h4>
        </div>
        <div class="row">
          <div class="col-lg-12">
              <div class="col-lg-4" *ngFor="let resource of resourceInageslist">
          <a>
            <img src="{{resource.attachment}}" style="width: 100%;" >
          </a>

          <div class="row" style="margin-left: 90px;margin-top: 10px;">
              <div class="col-lg-2">
                <button class="dashbutton closebutton" type="submit" style="width: 75px;" aria-hidden="true" data-toggle="modal" data-target="#myModalup"  (click)="updateattachment(resource.id);$dismiss()">Update</button>
              </div>
              <div class="col-lg-2">
                <button class="dashbutton updatebutton" type="submit" style="width: 75px;margin-right: -50px;"  (click)="DeleteResourceDocument(resource.id)">Delete</button>
              </div>
            </div>
        </div>
       
         
        </div>
        </div>

       
        <div class="row">
          <div class="col-lg-9"> </div>
          <div class="col-lg-3">
            <button class="dashbutton closebutton" type="submit" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="myModalup">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
          <div class="row" style="margin-top: 120px;padding-top: 20px;">
              <div class="col-lg-1"></div>
              <div class="col-lg-2">
                  <p style="padding:5px">Update Attachment</p>
              </div>
              <div class="col-lg-7">
                  <div class="form-group">
                      <input type="file" class="form-control" placeholder="Photo"  accept="image/*" multiple (change)="handleFileSelect($event)">
                      <div class="col-lg-4">
                          <div class="form-group"></div>
                      </div>
                  </div>
          
                  <div class="col-lg-12">
          
                      <div class="form-group">
                          <button type="submit" class="btn btn-block btn-md" style="background-color:#00b5d7;color:white;border-color: rgba(20, 21, 31, 0.20);" (click)="UpdatebuildingDocument();"   >Update</button>
                      </div>
                  </div>
              </div>
          </div>

          <!-- fdsf -->