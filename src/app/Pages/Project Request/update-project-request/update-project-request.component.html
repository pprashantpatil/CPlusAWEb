<div class="container-fluid Pages_background">
    <div>
        <div class="row">
            <div class="col-lg-5">
                <h4 class="Pages_header">{{pageMenuTitle}}</h4>
            </div>
            <div class="col-lg-3">
            </div>
            <div class="col-lg-4">
                <div class="mainrow">
                    <div class="col-lg-12 BreadChrumbProperties">
                        <span> {{updateProjectRequest_breadchrumb}}</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid shadow p-3 mb-5 bg-white rounded maincard">
        <h4 class="paneltitle " *ngIf="projectrequestid==0">Project Request </h4>
        <h4 class="paneltitle " *ngIf="projectrequestid!=0">Edit Project Request</h4>
        <hr>
        <div class="row">
            <div class="col-lg-7 reqriedspan">
                <form>
                    <div class="row ">
                        <div class=col-lg-1> </div>
                        <div class="col-lg-3">
                            <h5>{{updateProjectRequest_Date}} </h5>
                        </div>
                        <div class="col-lg-8">
                            <input [(ngModel)]="projectreqEntity.Date" name="Date" type="date" required
                                class="form-control" id="txt_UpdateProjectRequest_date" min={{mindate}}>
                        </div>

                    </div>
                    <br>
                    <div class="row ">
                        <div class=col-lg-1> </div>
                        <div class="col-lg-3">
                            <h5>{{updateProjectRequest_Request_Type}}<span>*</span></h5>
                        </div>
                        <div class="col-lg-8">
                            <select [(ngModel)]="projectreqEntity.RequestTypeID" name="RequestTypeID"
                                class="dropdown form-control" id="ddl_RequestType" required>
                                <option value="0">Select Request Type</option>
                                <option value="{{Request.id}}" *ngFor="let Request of ProjectReqlist">{{Request.short}}
                                </option>
                            </select>

                            <span class="Validationlabels" *ngIf='projectreqEntity.RequestTypeID==0 && Isempty'>* Please
                                Select
                                {{updateProjectRequest_Request_Type}}</span>
                        </div>
                    </div>
                    <br>
                    <div class="row ">
                        <div class=col-lg-1> </div>
                        <div class="col-lg-3">
                            <h5> {{updateProjectRequest_Request}}<span>*</span> </h5>
                        </div>
                        <div class="col-lg-8">
                            <input [(ngModel)]="projectreqEntity.Request" name="Request" class="form-control" required
                                type="text" id="txt_UpdateRequest_Request" placeholder="Request">
                            <span class="Validationlabels"
                                *ngIf='projectreqEntity.Request=="" && Isempty ||projectreqEntity.Request=="none"'>*
                                Please
                                Fill
                                {{updateProjectRequest_Request}}</span>
                        </div>
                    </div>
                    <br>
                    <div class="row ">
                        <div class=col-lg-1> </div>
                        <div class="col-lg-3">
                            <h5>{{updateProjectRequest_Building}}<span>*</span> </h5>
                        </div>
                        <div class="col-lg-8 ">
                            <select (change)="GetBuildingAddress($event)" [(ngModel)]="projectreqEntity.BuildingID"
                                name="BuildingID" required class="dropdown form-control"
                                id="ddl_Updateprojectrequest_Building">
                                <option value="0">Select Building</option>
                                <option value="{{build.id}}" *ngFor="let build of Buildinglist">{{build.name}}</option>
                            </select>
                            <span class="Validationlabels" *ngIf='projectreqEntity.BuildingID==0 && Isempty'>* Please
                                Select
                                {{updateProjectRequest_Building}}</span>
                        </div>

                    </div>
                    <br>
                    <div class="row ">
                        <div class=col-lg-1> </div>
                        <div class="col-lg-3">
                            <h5> {{updateProjectRequest_Address}} </h5>
                        </div>
                        <div class="col-lg-8">
                            <textarea value="{{BuildingAddress}}" name="address" class="form-control"
                                placeholder="{{updateProjectRequest_Address}}" id="txt_updateRequest_Address">
                             </textarea>
                        </div>
                    </div>
                    <br>

                    <div class="row ">
                        <div class=col-lg-1> </div>
                        <div class="col-lg-3">
                            <h5> {{updateProjectRequest_Floor}} <span>*</span> </h5>
                        </div>
                        <div class="col-lg-8 ">
                            <select [(ngModel)]="projectreqEntity.Floor" name="Floor" required
                                class="dropdown form-control" id="ddl_UpdateProjectRequest_Floor"
                                (change)="UnitByID($event)">
                                <option value="0">Select Floor</option>
                                <option value="{{floor.id}}" *ngFor="let floor of FloorList">{{floor.floor}}</option>
                            </select>
                            <span class="Validationlabels" *ngIf='projectreqEntity.Floor==0 && Isempty'>* Please
                                Select
                                {{updateProjectRequest_Floor}}</span>
                        </div>
                    </div>
                    <br>

                    <div class="row ">
                        <div class=col-lg-1> </div>
                        <div class="col-lg-3">
                            <h5>Unit<span>*</span> </h5>
                        </div>
                        <div class="col-lg-8 ">
                            <select [(ngModel)]="projectreqEntity.UnitID" name="Unit" class="dropdown form-control"
                                id="ddl_updateassetsunits">
                                <option value="0">Select Unit</option>
                                <option value="{{Units.id}}" *ngFor="let Units of Unitslist">{{Units.unitID}}</option>
                            </select>
                        </div>
                    </div>
                    <br>

                    <!-- <div class="row ">
                        <div class=col-lg-1> </div>
                        <div class="col-lg-3">
                            <h5> {{updateProjectRequest_RaisedBy}}<span>*</span> </h5>
                        </div>
                        <div class="col-lg-8 ">
                            <input class="form-control" required type="text" id="txt_UpdateRequest_RaisedBy"
                                placeholder="" value="admin" disabled>
                        </div>
                    </div>
                    <br> -->
                    <div class="row ">
                        <div class=col-lg-1> </div>
                        <div class="col-lg-3">
                            <h5>{{updateProjectRequest_ContactNumber}}<span>*</span> </h5>
                        </div>
                        <div class="col-lg-8 ">
                            <input [(ngModel)]="projectreqEntity.ContactPhoneNo" name="ContactPhoneNo"
                                class="form-control" required type="number" id="txt_UpdateProjectRequest_Phoneno"
                                placeholder="{{updateProjectRequest_ContactNumber}}">
                            <span class="Validationlabels"
                                *ngIf='projectreqEntity.ContactPhoneNo=="" && Isempty ||projectreqEntity.ContactPhoneNo=="none"'>*
                                Please
                                Fill
                                {{updateProjectRequest_ContactNumber}}</span>
                            <span class="Validationlabels" *ngIf='PhoneNumberValid==false'>
                                Invalid Phone Number
                            </span>

                        </div>
                    </div>
                    <br>
                    <div class="row ">
                        <div class=col-lg-1> </div>
                        <div class="col-lg-3">
                            <h5>EmailID <span>*</span></h5>
                        </div>
                        <div class="col-lg-8 ">
                            <input [(ngModel)]="projectreqEntity.ContactEmailID" name="ContactEmailID"
                                class="form-control" required type="email" id="txt_UpdateProjectRequest_Email"
                                placeholder="Email">
                            <span class="Validationlabels"
                                *ngIf='projectreqEntity.ContactEmailID=="" && Isempty ||projectreqEntity.ContactEmailID=="none"'>*
                                Please
                                Fill
                                EmailID</span>
                            <span class="Validationlabels" *ngIf='EmailValid==false'>
                                Invalid Email
                            </span>
                        </div>
                    </div>
                    <br>
                    <div class="row ">
                        <div class=col-lg-1> </div>
                        <div class="col-lg-3">
                            <h5>{{updateProjectRequest_Description}}</h5>
                        </div>
                        <div class="col-lg-8 ">
                            <textarea [(ngModel)]="projectreqEntity.Description" name="Description"
                                placeholder="{{updateProjectRequest_Description}}" class="form-control"
                                id="txt_updateProjectRequest_Description" rows="4"></textarea>
                        </div>
                    </div>
                    <br>
                    <div class="row ">
                        <div class=col-lg-1> </div>
                        <div class="col-lg-3">
                            <h5>{{updateProjectRequest_BidSubmissionDate}}<span class="required">*</span> </h5>
                        </div>
                        <div class="col-lg-8">
                            <input [(ngModel)]="projectreqEntity.BidSubmissionDate" name="BidSubmissionDate" type="date"
                                required id="txt_UpdateProjectRequest_BidSubmissionDate" class="form-control"
                                min={{mindate}}>
                            <span class="Validationlabels"
                                *ngIf='projectreqEntity.BidSubmissionDate==""&&Isempty ||projectreqEntity.BidSubmissionDate=="none"'>*
                                Please
                                Fill
                                {{updateProjectRequest_BidSubmissionDate}}</span>
                        </div>
                    </div>
                    <br>
                    <div class="row ">
                        <div class=col-lg-1> </div>
                        <div class="col-lg-3">
                            <h5>{{updateProjectRequest_BidConditions}}</h5>
                        </div>
                        <div class="col-lg-8 ">
                            <textarea [(ngModel)]="projectreqEntity.BidCondition" name="BidCondition"
                                placeholder="{{updateProjectRequest_BidConditions}}" class="form-control"
                                id="txt_UpdateProjectRequest_BidConditions" rows="4"></textarea>

                        </div>
                    </div>
                    <br>
                    <div class="row ">
                        <div class=col-lg-1> </div>
                        <div class="col-lg-3">
                            <h5> {{updateProjectRequest_Project_Start_Date}}<span>*</span> </h5>
                        </div>
                        <div class="col-lg-8">
                            <input [(ngModel)]="projectreqEntity.StartDate" name="StartDate" required type="date"
                                id="txt_UpdateProjectRequest_ProjectStartDate" class="form-control" min={{mindate}}>
                            <span class="Validationlabels"
                                *ngIf='projectreqEntity.StartDate==""&&Isempty ||projectreqEntity.StartDate=="none"'>*
                                Please
                                Fill
                                {{updateProjectRequest_Project_Start_Date}}</span>
                        </div>
                    </div>
                    <br>
                    <div class="row ">
                        <div class=col-lg-1> </div>
                        <div class="col-lg-3">
                            <h5> {{updateProjectRequest_Project_End_Date}}<span>*</span> </h5>
                        </div>
                        <div class="col-lg-8">
                            <input [(ngModel)]="projectreqEntity.EndDate" name="EndDate" required type="date"
                                id="txt_UpdateProjectRequest_ProjectEndDate" class="form-control" min={{mindate}}>
                            <span class="Validationlabels"
                                *ngIf='projectreqEntity.EndDate==""&&Isempty ||projectreqEntity.EndDate=="none"'>*
                                Please
                                Fill
                                {{updateProjectRequest_Project_End_Date}}</span>
                        </div>
                    </div>
                    <br>
                    <div class="row ">
                        <div class=col-lg-1> </div>
                        <div class="col-lg-3">
                            <h5> {{updateProjectRequest_Project_Award_Date}}<span>*</span> </h5>
                        </div>
                        <div class="col-lg-8">
                            <input [(ngModel)]="projectreqEntity.AwardDate" name="AwardDate" required type="date"
                                id="txt_UpdateProjectRequest_ProjectAwardDate" class="form-control" min={{mindate}}>
                            <span class="Validationlabels"
                                *ngIf='projectreqEntity.AwardDate==""&&Isempty ||projectreqEntity.AwardDate=="none"'>*
                                Please
                                Fill
                                {{updateProjectRequest_Project_Award_Date}}</span>
                        </div>
                    </div>
                    <br>
                    <div class="row ">
                        <div class=col-lg-1> </div>
                        <div class="col-lg-3">
                            <h5>{{updateProjectRequest_Comments}} </h5>
                        </div>
                        <div class="col-lg-8 ">
                            <textarea [(ngModel)]="projectreqEntity.Comment" name="Comment" required
                                placeholder="{{updateProjectRequest_Comments}}" class="form-control"
                                id="txt_updateProjectRequest_Comments" rows="4"></textarea>
                        </div>
                    </div>
                    <br>
                    <div class="row ">
                        <div class=col-lg-1> </div>
                        <div class="col-lg-3">
                            <h5>{{updateProjectRequest_VendorType}}</h5>
                        </div>
                        <div class="col-lg-8 ">
                            <select class="dropdown form-control" (change)="VendorType($event)" required>
                                <option value="none">Select Vendor Type</option>
                                <option value="{{Vendor.id}}" *ngFor="let Vendor of VendorTypelist">{{Vendor.short}}
                                </option>
                            </select>
                        </div>

                    </div>
                    <br>
                    <div class="row ">
                        <div class=col-lg-1> </div>
                        <div class="col-lg-3">
                            <h5>{{updateProjectRequest_Bidding_Vendor_Name}} </h5>
                        </div>
                        <div class="col-lg-8 ">
                            <ng-multiselect-dropdown [placeholder]="" [data]="Vendorlist" [(ngModel)]="selectedItems"
                                name="selectedItem" [settings]="dropdownSettings1" (onSelect)="onItemSelect($event)"
                                (onSelectAll)="onSelectAll($event)" (onDeSelect)="onItemDeSelect($event)">
                            </ng-multiselect-dropdown>
                        </div>
                    </div>
                    <br>
                    <!-- <div class="row ">
                        <div class=col-lg-1> </div>
                        <div class="col-lg-3">
                            <h5> {{updateProjectRequest_Bidding_Vendor_Email}} <span>*</span> </h5>
                        </div>
                        <div class="col-lg-8 ">
                            <ng-multiselect-dropdown [placeholder]="" [data]="Vendorlist" [settings]="dropdownSettings"
                                (onSelect)="onItemSelect($event)" (onSelectAll)="onSelectAll($event)"
                                (onDeSelect)="onItemDeSelect($event)">
                            </ng-multiselect-dropdown>
                        </div>
                    </div>
                    <br> -->

                    <div class="row " *ngIf="projectrequestid==0">
                        <div class=col-lg-1> </div>
                        <div class="col-lg-3">
                            <h5>{{updateProjectRequest_Attachment}}</h5>
                        </div>
                        <div class="col-lg-8 ">
                            <ngx-dropzone [showPreviews]="true" (filesAdded)="onFilesAddedAttached($event)"
                                class="dropzone_vendorinvoice"></ngx-dropzone>
                        </div>
                    </div>
                    <br>
                    <div class="row ">
                        <div class=col-lg-1> </div>
                        <div class="col-lg-3">
                            <h5>{{updateProjectRequest_Status}}<span>*</span></h5>
                        </div>
                        <div class="col-lg-8 ">
                            <select [(ngModel)]="projectreqEntity.StatusID" name="StatusID"
                                class="dropdown form-control" required id="ddl_UpdateProjectRequest_Status">
                                <option value="0">Select Request Type</option>
                                <option value="{{Status.id}}" *ngFor="let Status of Statuslist">{{Status.short}}
                                </option>
                            </select>

                            <span class="Validationlabels" *ngIf='projectreqEntity.StatusID==0 && Isempty'>* Please
                                Select
                                {{updateProjectRequest_Status}}</span>
                        </div>
                    </div>
                    <br>

                    <div class="row">
                        <div class=col-lg-1> </div>
                        <div class="col-lg-3"></div>
                        <div class="col-lg-3 " *ngIf="projectrequestid==0">
                            <button type="submit" (click)="InsertProjectRequest()"
                                class="btn btn-block btn-md savebutton">{{updateProjectRequest_button_Save}}</button>
                        </div>

                        <div class="col-lg-3 " *ngIf="projectrequestid!=0">
                            <button type="submit" (click)="UpdateProjectRequest()"
                                class="btn btn-block btn-md savebutton">Update</button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="col-lg-5" *ngIf="projectrequestid!=null">
                <h4 *ngIf="Attachmentlist.length>0">Attachments</h4>
                <div id="myCarousel" class="carousel slide" data-ride="carousel" *ngIf="Attachmentlist.length>0">
                    <div class="carousel-inner">
                        <div class="item active">
                            <img src="{{Attachmentlist[0].attachment}}" alt="">
                        </div>
                        <div class="item" *ngFor="let Attachments of Attachmentlist| slice:1">
                            <img src="{{Attachments.attachment}}" alt="">
                        </div>
                    </div>

                    <!-- Left and right controls -->
                    <a class="left carousel-control" href="#myCarousel" data-slide="prev">
                        <span class="glyphicon glyphicon-chevron-left"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#myCarousel" data-slide="next">
                        <span class="glyphicon glyphicon-chevron-right"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>